# CODE D'ERREUR D'INTERRUPTION
tous les interrupt entre 0 et 32 sont des interruptions d'erreur
certains code d'erreur peuvent être corrigé après le retour de l'interruption et d'autres non
| Code de<br>l'interruption 	| Nom                                        	| Descriptions                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       	| Contient un <br>code d'erreur ?        	|   	|
|---------------------------	|--------------------------------------------	|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------	|----------------------------------------	|---	|
| 0                         	| Division par 0                             	| Cette exceptions est produites <br>quand l'instruction DIV/IDIV est utilisé<br>avec un 0                                                                                                                                                                                                                                                                                                                                                                                                                           	| non                                    	|   	|
| 1                         	| Debug                                      	| Cette erreur __intentionnelle__ est <br>généralement pour le débogage                                                                                                                                                                                                                                                                                                                                                                                                                                              	| non                                    	|   	|
| 2                         	| Interruption nmi                           	| L'interruption nmi est une interruption<br>causé par des éléments externe comme la<br>ram                                                                                                                                                                                                                                                                                                                                                                                                                          	| non                                    	|   	|
| 3                         	| Breakpoint                                 	| Cette erreur __intentionnelle__ est<br>utilisé pour le débogage                                                                                                                                                                                                                                                                                                                                                                                                                                                    	| non                                    	|   	|
| 4                         	| Dépassement                                	| L'interruption 4 est causé quand l'instruction<br>`INTO` est éxécuté alors que le bit 11 de RFLAGS<br>est mit à 1<br>note: l'erreur n'est pas possible en 64 bit car<br>l'instruction `INTO` n'est pas disponible en long <br>mode                                                                                                                                                                                                                                                                                 	| non                                    	|   	|
| 5                         	| Dépassement de<br>table                    	| L'interruption 5 est causé quand l'instruction<br>`BOUND` est exécuté quand opérateur 1 n'est pas<br>dans la taille de table définis dans l'opérateur<br>2<br>note: l'erreur n'est pas possible en 64 bit car<br>l'instruction `BOUND` n'est pas disponible en long<br>mode                                                                                                                                                                                                                                        	| non                                    	|   	|
| 6                         	| Instruction <br>non valide                 	| L'interruption 6 est causé quand :<br> - on essaye d'accéder à un registre non existant<br> - on essaye d'exécuter un une instruction non disponible<br> - quand UD est exécuté                                                                                                                                                                                                                                                                                                                                    	| non                                    	|   	|
| 7                         	| Appareil non <br>disponible                	| L'interruption 7 est appelé quand on essaye d'initialiser<br>le fpu alors qu'il n'existe pas                                                                                                                                                                                                                                                                                                                                                                                                                       	| non                                    	|   	|
| 8                         	| Faute Double                               	| La faute double est appelé quand il y a une erreur pendant<br>que l'interruption d'erreur est appelé <br>(une erreur dans une erreur)                                                                                                                                                                                                                                                                                                                                                                              	| oui                                    	|   	|
| 9                         	| Erreur de <br>Segment de <br>coprocesseur  	| Cette erreur n'est plus utilisé                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    	| non                                    	|   	|
| 10                        	| TSS invalide                               	| L'interruption TSS invalide est exécuté quand le <br>sélecteur de segment pour la tss est invalide<br>Causé pendant un changement de task ou pendant l'accès<br>de la tss                                                                                                                                                                                                                                                                                                                                          	| oui (code <br>d'erreur de <br>segment) 	|   	|
| 11                        	| Segment non <br>présent                    	| L'interruption segment non présent est exécuté quand <br>on essaye de charger un segment qui à le bit présent à 0                                                                                                                                                                                                                                                                                                                                                                                                  	| oui (code <br>d'erreur de <br>segment) 	|   	|
| 12                        	| Segment de pile<br>invalide                	| L'interruption Segment de pile invalide est causé quand on<br>charge un segment de stack qui n'est pas présent,<br>- quand la vérification de la limite de pile n'est pas possible<br>- quand (en 64bit) on essaye de faire une opération qui fait une<br>référence la mémoire en utilisant le pointeur de stack (rsp)<br>qui contient une adresse mémoire non canonique <br>- quand le segment de stack n'est pas présent pendant une opération<br>qui fait référence au registre ss, (comme pop, push, iret ...) 	| oui (code <br>d'erreur de <br>segment) 	|   	|
| 13                        	| Fautes générale<br>de protection           	| L'interruption n°13 peut être causé pour beaucoup de raison, dont:<br>- écrire un 1 dans une zone du registre CR4 réservé<br>- utiliser une instruction SSE qui essaye d'accéder une zone de la<br>mémoire 128 bit qui n'est pas aligné en 16bit <br>- la pile de mémoire n'est pas aligné en 16bit<br>[...] voir le manuel intel pour plus d'information (chap 3 6.15.13)                                                                                                                                         	| oui (code <br>d'erreur de <br>segment) 	|   	|
| 14                        	| Faute de page                              	| L'interruption n°14 peut être causé quand il y a une erreur en relation<br>avec le paging.<br>Quand on essaye d'accéder à une zone de la mémoire qui n'a pas de table<br>présente.<br><br>Quand on essaye de charger une table et que la zone ou on éxécute le code<br>n'est pas exécutable dans la page<br><br>quand un problème d'autorisation est causé, (ex: écrire dans une zone<br>de la mémoire qui ne peut pas être écrite)<br><br>[...] voir le manuel intel pour plus d'information (chap 3 6.15.14)     	| oui (code <br>d'erreur de<br>page)     	|   	|
| 15                        	| réservé                                    	| //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 	| non                                    	|   	|
| 16                        	| Faute du fpu x87                           	| L'interruption n°16 est causé quand il y a une erreur pendant une<br>instruction du fpu<br>- Opération invalide<br><br>- division par 0<br><br>- Dépassement numérique<br><br>- Résultat non exact <br><br>- Le bit 5 du registre CR0 = 1                                                                                                                                                                                                                                                                          	| non                                    	|   	|
| 17                        	| Faute<br>D'alignement                      	| Pour qu'il y ait une faute d'alignement il faut que le bit 18 de CR0 et<br>RFLAGS soient égaux à 1<br>L'erreur est causé quand une référence de mémoire est non aligné                                                                                                                                                                                                                                                                                                                                             	| oui                                    	|   	|
| 18                        	| Faute de<br>vérification<br>de machine     	| Pour qu'il y ait une faute de vérification de machine il faut que le bit<br>6 du cr4 soit à 1. <br><br>L'erreur est causé quand le cpu détecte une erreur de machine, comme: <br>- un problème de bus, cache, mémoire, ou une erreur interne                                                                                                                                                                                                                                                                       	| non                                    	|   	|
| 19                        	| Exception de<br>variable a virgule<br>SIMD 	| L'interrupt n°19 est appelé quand il y a une érreur avec les nombres a<br>virgules pendant une opération SSE<br>- division par 0<br><br>- Dépassement numérique<br><br>- Résultat non exact<br><br>- [...]                                                                                                                                                                                                                                                                                                         	| non                                    	|   	|
| 20                        	| Exception de<br>virtualization             	| L'exception de virtualization est appelé quand il y a une violation<br>de droit avec une instruction EPT                                                                                                                                                                                                                                                                                                                                                                                                           	| non                                    	|   	|
| 21 à 31                   	| réservé                                    	| //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 	| non                                    	|   	|
| ---                       	| Faute triple                               	| L'exception faute triple est exécuté quand il y a une erreur<br>pendant l'interruption de faute double<br>(une erreur dans une erreur dans une erreur)<br>l'interruption faute triple cause un redémarrage de la machine                                                                                                                                                                                                                                                                                           	| non                                    	|   	|





## Code d'erreur d'une faute de page
| BIT  	| NOM 	| DESCRIPTION                                                                                                                                      	|
|------	|-----	|--------------------------------------------------------------------------------------------------------------------------------------------------	|
| 0    	| P   	| (p=1)<br>la faute a été causée à cause <br>d'une violation de protection<br><br>(p=0)<br>la faute a été causée<br>car la page n'est pas présente 	|
| 1    	| W   	| (W=0)<br>la faute a été causée à cause<br>d'une lecture<br>(W=1)<br>la faute à été causée à cause<br>d'une écriture                              	|
| 2    	| U   	| (U=1)<br>la faute a été causée car <br>la page n'est pas utilisateur<br>alors que CPL = 3                                                        	|
| 3    	| R   	| (R=1)<br>la faute a été causée car<br>la page contenait un bit<br>réservé                                                                        	|
| 4    	| I   	| (I=1)<br>la faute a été causée a cause<br>d'une lecture à cause d'une <br>instruction                                                            	|
| 5    	| PK  	| (PK=1) <br>la faute a été causée à cause<br>d'une violation de droit<br>de clé                                                                   	|
| 6    	| SS  	| (SS=1)<br>la faute a été causée à cause<br>d'un accès à << l'ombrede la stack >>                                                             	|
| 7-31 	| //  	| Réservé                                                                                                                                          	|

Lors d'une faute de page, l'addresse qui a causé l'exception est
stockée dans `CR2`

## Code D'erreur d'une faute générale de protection

| BIT 	| NOM   	| TAILLE 	| DESCRIPTION                                                                                                                                                        	|
|-----	|-------	|--------	|--------------------------------------------------------------------------------------------------------------------------------------------------------------------	|
| 0   	| E     	| 1      	| (E=1)<br>l'exception provient d'un appareil <br>externe au processeur                                                                                              	|
| 1   	| TBL   	| 2      	| (TBL=0)<br>l'erreur proviens de la gdt<br>(TBL=1)<br>l'erreur proviens de l'idt<br>(TBL=2)<br>l'erreur proviens de la ldt<br>(TBL=3)<br>l'erreur proviens de l'idt 	|
| 3   	| Index 	| 13     	| Index de la table sélectionné <br>dans TBL                                                                                                                         	|                                                                                                       	|